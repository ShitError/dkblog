(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-05b227d0"],{"40ed":function(t,i,e){},"65b9":function(t,i,e){"use strict";var a=e("835f");e.n(a).a},"835f":function(t,i,e){},fa20:function(t,i,e){"use strict";e.r(i);e("99af"),e("c975"),e("d3b7"),e("ac1f"),e("25f0"),e("5319"),e("1276");var a=e("b311"),s=e.n(a),r=e("4ea3"),c=e("7577"),n=e.n(c),l={components:{Comment:r.a},created:function(){this.getArticle(),this.listComment()},destroyed:function(){this.clipboard.destroy(),n.a.destroy()},data:function(){return{config:{sites:["qzone","wechat","weibo","qq"]},imgList:[],article:{nextArticle:{id:0,articleCover:""},lastArticle:{id:0,articleCover:""},recommendArticleList:[],newestArticleList:[]},commentList:[],count:0,wordNum:"",readTime:"",articleHref:window.location.href,clipboard:null}},methods:{getArticle:function(){var t=this,i=this;this.axios.get("/api"+this.$route.path).then((function(e){var a=e.data;document.title=a.data.articleTitle,t.markdownToHtml(a.data),t.$nextTick((function(){t.wordNum=t.deleteHTMLTag(t.article.articleContent).length,t.readTime=Math.round(t.wordNum/400)+"分钟",t.clipboard=new s.a(".copy-btn"),t.clipboard.on("success",(function(){t.$toast({type:"success",message:"复制成功"})}));var e=t.$refs.article.children;if(e.length)for(var a=0;a<e.length;a++){var r=e[a];/^H[1-4]{1}$/.exec(r.tagName)&&(r.id=a)}n.a.init({tocSelector:"#toc",contentSelector:".article-content",headingSelector:"h1, h2, h3",hasInnerContainers:!0,onClick:function(t){t.preventDefault()}});for(var c=t.$refs.article.getElementsByTagName("img"),l=0;l<c.length;l++)t.imgList.push(c[l].src),c[l].addEventListener("click",(function(t){i.previewImg(t.target.currentSrc)}))}))}))},listComment:function(){var t=this,i=this.$route.path.split("/"),e=i[i.length-1];this.axios.get("/api/comments",{params:{current:1,articleId:e}}).then((function(i){var e=i.data;t.commentList=e.data.recordList,t.count=e.data.count}))},like:function(){var t=this;if(!this.$store.state.userId)return this.$store.state.loginFlag=!0,!1;this.axios.post("/api/articles/"+this.article.id+"/like").then((function(i){i.data.flag&&(-1!=t.$store.state.articleLikeSet.indexOf(t.article.id)?t.$set(t.article,"likeCount",t.article.likeCount-1):t.$set(t.article,"likeCount",t.article.likeCount+1),t.$store.commit("articleLike",t.article.id))}))},markdownToHtml:function(t){var i=e("d4cd"),a=e("1487"),s=new i({html:!0,linkify:!0,typographer:!0,highlight:function(t,i){var e=(new Date).getTime();window.performance&&"function"==typeof window.performance.now&&(e+=performance.now());for(var s="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?i:3&i|8).toString(16)})),r='<button class="copy-btn iconfont icon-fuzhi" type="button" data-clipboard-action="copy" data-clipboard-target="#copy'.concat(s,'"></button>'),c=t.split(/\n/).length-1,n='<span aria-hidden="true" class="line-numbers-rows">',l=0;l<c;l++)n+="<span></span>";if(n+="</span>",i&&a.getLanguage(i))return r+=a.highlight(i,t,!0).value,c&&(r+='<b class="name">'+i+"</b>"),'<pre class="hljs"><code>'.concat(r,"</code>").concat(n,'</pre><textarea style="position: absolute;top: -9999px;left: -9999px;z-index: -9999;" id="copy').concat(s,'">').concat(t.replace(/<\/textarea>/g,"</textarea>"),"</textarea>")}});t.articleContent=s.render(t.articleContent),this.article=t},previewImg:function(t){this.$imagePreview({images:this.imgList,index:this.imgList.indexOf(t)})},deleteHTMLTag:function(t){return t.replace(/<\/?[^>]*>/g,"").replace(/[|]*\n/,"").replace(/&npsp;/gi,"")}},computed:{blogInfo:function(){return this.$store.state.blogInfo},articleCover:function(){return"background: url("+this.article.articleCover+") center center / cover no-repeat"},isLike:function(){return-1!=this.$store.state.articleLikeSet.indexOf(this.article.id)?"like-btn-active":"like-btn"},isFull:function(){return function(t){return t?"post full":"post"}}}},o=(e("fad1"),e("65b9"),e("2877")),d=e("6544"),v=e.n(d),m=e("b0af"),u=e("62ad"),f=e("132d"),p=e("0fd9"),C=Object(o.a)(l,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"banner",style:t.articleCover},[e("div",{staticClass:"article-info-container"},[e("div",{staticClass:"article-title"},[t._v(t._s(t.article.articleTitle))]),e("div",{staticClass:"article-info"},[e("div",{staticClass:"first-line"},[e("span",[e("i",{staticClass:"iconfont icon-rili"}),t._v(" 发表于 "+t._s(t._f("date")(t.article.createTime))+" ")]),e("span",{staticClass:"separator"},[t._v("|")]),e("span",[e("i",{staticClass:"iconfont icon-gengxinshijian"}),t._v(" 更新于 "),t.article.updateTime?[t._v(" "+t._s(t._f("date")(t.article.updateTime))+" ")]:[t._v(" "+t._s(t._f("date")(t.article.createTime))+" ")]],2),e("span",{staticClass:"separator"},[t._v("|")]),e("span",{staticClass:"article-category"},[e("i",{staticClass:"iconfont icon-fenlei1"}),e("router-link",{attrs:{to:"/categories/"+t.article.categoryId}},[t._v(" "+t._s(t.article.categoryName)+" ")])],1)]),e("div",{staticClass:"second-line"},[e("span",[e("i",{staticClass:"iconfont icon-zishu"}),t._v(" 字数统计: "+t._s(t._f("num")(t.wordNum))+" ")]),e("span",{staticClass:"separator"},[t._v("|")]),e("span",[e("i",{staticClass:"iconfont icon-shijian"}),t._v(" 阅读时长: "+t._s(t.readTime)+" ")])]),e("div",{staticClass:"third-line"},[e("span",{staticClass:"separator"},[t._v("|")]),e("span",[e("i",{staticClass:"iconfont icon-liulan"}),t._v(" 阅读量: "+t._s(t.article.viewsCount)+" ")]),e("span",{staticClass:"separator"},[t._v("|")]),e("span",[e("i",{staticClass:"iconfont icon-pinglun1"}),t._v("评论数: "),t.count?[t._v(t._s(t.count))]:[t._v("0")]],2)])])])]),e("v-row",{staticClass:"article-container"},[e("v-col",{attrs:{md:"9",cols:"12"}},[e("v-card",{staticClass:"article-wrapper"},[e("article",{ref:"article",staticClass:"article-content markdown-body",attrs:{id:"write"},domProps:{innerHTML:t._s(t.article.articleContent)}}),e("div",{staticClass:"aritcle-copyright"},[e("div",[e("span",[t._v("文章作者：")]),e("router-link",{attrs:{to:"/"}},[t._v(" "+t._s(t.blogInfo.websiteConfig.websiteAuthor)+" ")])],1),e("div",[e("span",[t._v("文章链接：")]),e("a",{attrs:{href:t.articleHref,target:"_blank"}},[t._v(t._s(t.articleHref)+" ")])]),e("div",[e("span",[t._v("版权声明：")]),t._v("本博客所有文章除特别声明外，均采用 "),e("a",{attrs:{href:"https://creativecommons.org/licenses/by-nc-sa/4.0/",target:"_blank"}},[t._v(" CC BY-NC-SA 4.0 ")]),t._v(" 许可协议。转载请注明文章出处。 ")])]),e("div",{staticClass:"article-operation"},[e("div",{staticClass:"tag-container"},t._l(t.article.tagDTOList,(function(i){return e("router-link",{key:i.id,attrs:{to:"/tags/"+i.id}},[t._v(" "+t._s(i.tagName)+" ")])})),1),e("share",{staticStyle:{"margin-left":"auto"},attrs:{config:t.config}})],1),e("div",{staticClass:"article-reward"},[e("a",{class:t.isLike,on:{click:t.like}},[e("v-icon",{attrs:{size:"14",color:"#fff"}},[t._v("mdi-thumb-up")]),t._v(" 点赞 "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.article.likeCount>0,expression:"article.likeCount > 0"}]},[t._v(t._s(t.article.likeCount))])],1),1==t.blogInfo.websiteConfig.isReward?e("a",{staticClass:"reward-btn"},[e("i",{staticClass:"iconfont icon-erweima"}),t._v(" 打赏 "),e("div",{staticClass:"animated fadeInDown reward-main"},[e("ul",{staticClass:"reward-all"},[e("li",{staticClass:"reward-item"},[e("img",{staticClass:"reward-img",attrs:{src:t.blogInfo.websiteConfig.weiXinQRCode}}),e("div",{staticClass:"reward-desc"},[t._v("微信")])]),e("li",{staticClass:"reward-item"},[e("img",{staticClass:"reward-img",attrs:{src:t.blogInfo.websiteConfig.alipayQRCode}}),e("div",{staticClass:"reward-desc"},[t._v("支付宝")])])])])]):t._e()]),e("div",{staticClass:"pagination-post"},[t.article.lastArticle.id?e("div",{class:t.isFull(t.article.lastArticle.id)},[e("router-link",{attrs:{to:"/articles/"+t.article.lastArticle.id}},[e("img",{staticClass:"post-cover",attrs:{src:t.article.lastArticle.articleCover}}),e("div",{staticClass:"post-info"},[e("div",{staticClass:"label"},[t._v("上一篇")]),e("div",{staticClass:"post-title"},[t._v(" "+t._s(t.article.lastArticle.articleTitle)+" ")])])])],1):t._e(),t.article.nextArticle.id?e("div",{class:t.isFull(t.article.nextArticle.id)},[e("router-link",{attrs:{to:"/articles/"+t.article.nextArticle.id}},[e("img",{staticClass:"post-cover",attrs:{src:t.article.nextArticle.articleCover}}),e("div",{staticClass:"post-info",staticStyle:{"text-align":"right"}},[e("div",{staticClass:"label"},[t._v("下一篇")]),e("div",{staticClass:"post-title"},[t._v(" "+t._s(t.article.nextArticle.articleTitle)+" ")])])])],1):t._e()]),t.article.recommendArticleList.length?e("div",{staticClass:"recommend-container"},[e("div",{staticClass:"recommend-title"},[e("v-icon",{attrs:{size:"20",color:"#4c4948"}},[t._v("mdi-thumb-up")]),t._v(" 相关推荐 ")],1),e("div",{staticClass:"recommend-list"},t._l(t.article.recommendArticleList,(function(i){return e("div",{key:i.id,staticClass:"recommend-item"},[e("router-link",{attrs:{to:"/articles/"+i.id}},[e("img",{staticClass:"recommend-cover",attrs:{src:i.articleCover}}),e("div",{staticClass:"recommend-info"},[e("div",{staticClass:"recommend-date"},[e("i",{staticClass:"iconfont icon-rili"}),t._v(" "+t._s(t._f("date")(i.createTime))+" ")]),e("div",[t._v(t._s(i.articleTitle))])])])],1)})),0)]):t._e(),e("hr"),e("comment",{attrs:{commentList:t.commentList,count:t.count},on:{reloadComment:t.listComment}})],1)],1),e("v-col",{staticClass:"d-md-block d-none",attrs:{md:"3",cols:"12"}},[e("div",{staticStyle:{position:"sticky",top:"20px"}},[e("v-card",{staticClass:"right-container"},[e("div",{staticClass:"right-title"},[e("i",{staticClass:"iconfont icon-hanbaobao",staticStyle:{"font-size":"16.8px"}}),e("span",{staticStyle:{"margin-left":"10px"}},[t._v("目录")])]),e("div",{attrs:{id:"toc"}})]),e("v-card",{staticClass:"right-container",staticStyle:{"margin-top":"20px"}},[e("div",{staticClass:"right-title"},[e("i",{staticClass:"iconfont icon-gengxinshijian",staticStyle:{"font-size":"16.8px"}}),e("span",{staticStyle:{"margin-left":"10px"}},[t._v("最新文章")])]),e("div",{staticClass:"article-list"},t._l(t.article.newestArticleList,(function(i){return e("div",{key:i.id,staticClass:"article-item"},[e("router-link",{staticClass:"content-cover",attrs:{to:"/articles/"+i.id}},[e("img",{attrs:{src:i.articleCover}})]),e("div",{staticClass:"content"},[e("div",{staticClass:"content-title"},[e("router-link",{attrs:{to:"/articles/"+i.id}},[t._v(" "+t._s(i.articleTitle)+" ")])],1),e("div",{staticClass:"content-time"},[t._v(t._s(t._f("date")(i.createTime)))])])],1)})),0)])],1)])],1)],1)}),[],!1,null,"8992363a",null);i.default=C.exports;v()(C,{VCard:m.a,VCol:u.a,VIcon:f.a,VRow:p.a})},fad1:function(t,i,e){"use strict";var a=e("40ed");e.n(a).a}}]);